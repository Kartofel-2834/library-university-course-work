import{d as w,i as S,c as M,E as B,o as t,f as r,e as o,n as s,k as i,t as l,u as n,a as $,b as k,h as f,_ as Y,g as C,F as W,T as A}from"./index-BCUyAAPs.js";import{E as g,a as b}from"./PotIcon-Dxm1-QIH.js";import{P as z}from"./BaseHeader-DK_6ZRXn.js";const L=["src"],_=["title"],E=["title"],R=w({__name:"BookCard",props:{book:{},deleteLabel:{default:"Удалить"},canDelete:{type:Boolean,default:!0},canBook:{type:Boolean,default:!0},canReadDetails:{type:Boolean,default:!0}},emits:["details","book","delete"],setup(D,{emit:v}){const u=D,m=v,d=S(),e=M(()=>d.isAdmin?B.PRIMARY:B.SECONDARY);function y(){m("book",u.book)}function c(){m("details",u.book)}function h(){m("delete",u.book)}return(a,p)=>(t(),r("div",{class:s(a.$style.BookCard)},[o("div",{class:s(a.$style.imageWrapper)},[a.book.imageUrl?(t(),r("img",{key:0,class:s(a.$style.image),src:a.book.imageUrl},null,10,L)):i("",!0)],2),o("div",{class:s(a.$style.infoWrapper)},[o("div",{class:s(a.$style.info)},[o("div",{class:s(a.$style.title),title:a.book.name},l(a.book.name),11,_),o("div",{class:s(a.$style.author),title:a.book.author},l(a.book.author),11,E)],2),o("div",{class:s(a.$style.actions)},[n(d).isReader&&a.canBook?(t(),$(b,{key:0,size:n(g).SMALL,onClick:y},{default:k(()=>p[0]||(p[0]=[f(" Подать заявку ")])),_:1},8,["size"])):i("",!0),a.canReadDetails?(t(),$(b,{key:1,color:e.value,size:n(g).SMALL,onClick:c},{default:k(()=>p[1]||(p[1]=[f(" Подробнее ")])),_:1},8,["color","size"])):i("",!0),n(d).isAdmin&&a.canDelete?(t(),$(b,{key:2,size:n(g).SMALL,color:n(B).DANGER,onClick:h},{default:k(()=>[f(l(a.deleteLabel),1)]),_:1},8,["size","color"])):i("",!0)],2)],2)],2))}}),N="_BookCard_arwlk_348",P="_imageWrapper_arwlk_368",U="_image_arwlk_368",H="_infoWrapper_arwlk_393",T="_title_arwlk_401",V="_author_arwlk_420",F="_actions_arwlk_439",I={BookCard:N,imageWrapper:P,image:U,infoWrapper:H,title:T,author:V,actions:F},G={$style:I},ie=Y(R,[["__cssModules",G]]),O=["src"],j=w({__name:"BookDetail",props:{book:{default:null}},emits:["close"],setup(D,{emit:v}){const u=v,m=S();function d(){u("close")}return(e,y)=>(t(),$(z,{"is-open":e.book!==null,onClose:d},{default:k(()=>[C(A,{name:"fade"},{default:k(()=>{var c;return[e.book?(t(),r("div",{key:0,class:s(e.$style.BookDetail)},[e.book.imageUrl?(t(),r("div",{key:0,class:s(e.$style.imageWrapper)},[o("img",{class:s(e.$style.image),src:e.book.imageUrl},null,10,O)],2)):i("",!0),o("div",{class:s(e.$style.info)},[o("div",{class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Название",2),o("div",{class:s(e.$style.data)},l(e.book.name),3)],2),o("div",{class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Автор",2),o("div",{class:s(e.$style.data)},l(e.book.author),3)],2),o("div",{class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Год публикации",2),o("div",{class:s(e.$style.data)},l((c=e.book.publicationDate)==null?void 0:c.format("YYYY г.")),3)],2),n(m).isAdmin?(t(),r(W,{key:0},[e.book.reader?(t(),r("div",{key:0,class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Кому выдана",2),o("div",{class:s(e.$style.data)},l(e.book.reader.surname)+" "+l(e.book.reader.name)+" "+l(e.book.reader.fathername)+", "+l(e.book.reader.studentId),3)],2)):i("",!0),e.book.issueDate?(t(),r("div",{key:1,class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Дата выдачи читателю",2),o("div",{class:s(e.$style.data)},l(e.book.issueDate.format("YYYY.MM.DD HH:SS")),3)],2)):i("",!0),e.book.receiptDate?(t(),r("div",{key:2,class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Дата приемки",2),o("div",{class:s(e.$style.data)},l(e.book.receiptDate.format("YYYY.MM.DD HH:SS")),3)],2)):i("",!0),e.book.details?(t(),r("div",{key:3,class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Доп. информация",2),o("div",{class:s(e.$style.data)},l(e.book.details),3)],2)):i("",!0)],64)):i("",!0),o("div",{class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Описание",2),o("div",{class:s(e.$style.data)},l(e.book.description),3)],2)],2),C(b,{class:s(e.$style.closeButton),onClick:d},{default:k(()=>y[0]||(y[0]=[f(" Закрыть ")])),_:1},8,["class"])],2)):i("",!0)]}),_:1})]),_:1},8,["is-open"]))}}),q="_BookDetail_m74xw_348",J="_imageWrapper_m74xw_357",K="_closeButton_m74xw_358",Q="_image_m74xw_357",X="_info_m74xw_378",Z="_field_m74xw_396",x="_label_m74xw_406",ee="_data_m74xw_414",se={BookDetail:q,imageWrapper:J,closeButton:K,image:Q,info:X,field:Z,label:x,data:ee},oe={$style:se},re=Y(j,[["__cssModules",oe]]);export{re as B,ie as a};
