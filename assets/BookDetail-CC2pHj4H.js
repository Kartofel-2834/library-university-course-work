import{d as S,i as Y,c as W,E as B,o as t,f as r,e as o,n as s,k as i,t as l,u as n,a as $,b as u,h as f,_ as h,g as C,F as w,T as A}from"./index-9cr8EWnL.js";import{E as g,a as b}from"./PotIcon-I0iWhTWp.js";import{P as q}from"./BaseHeader-6PBSh6ly.js";const z=["src"],L=["title"],_=["title"],E=S({__name:"BookCard",props:{book:{},deleteLabel:{default:"Удалить"},canDelete:{type:Boolean,default:!0},canBook:{type:Boolean,default:!0},canReadDetails:{type:Boolean,default:!0}},emits:["details","book","delete"],setup(D,{emit:v}){const k=D,m=v,d=Y(),e=W(()=>d.isAdmin?B.PRIMARY:B.SECONDARY);function y(){m("book",k.book)}function c(){m("details",k.book)}function M(){m("delete",k.book)}return(a,p)=>(t(),r("div",{class:s(a.$style.BookCard)},[o("div",{class:s(a.$style.imageWrapper)},[a.book.imageUrl?(t(),r("img",{key:0,class:s(a.$style.image),src:a.book.imageUrl},null,10,z)):i("",!0)],2),o("div",{class:s(a.$style.infoWrapper)},[o("div",{class:s(a.$style.info)},[o("div",{class:s(a.$style.title),title:a.book.name},l(a.book.name),11,L),o("div",{class:s(a.$style.author),title:a.book.author},l(a.book.author),11,_)],2),o("div",{class:s(a.$style.actions)},[n(d).isReader&&a.canBook?(t(),$(b,{key:0,size:n(g).SMALL,onClick:y},{default:u(()=>p[0]||(p[0]=[f(" Подать заявку ")])),_:1},8,["size"])):i("",!0),a.canReadDetails?(t(),$(b,{key:1,color:e.value,size:n(g).SMALL,onClick:c},{default:u(()=>p[1]||(p[1]=[f(" Подробнее ")])),_:1},8,["color","size"])):i("",!0),n(d).isAdmin&&a.canDelete?(t(),$(b,{key:2,size:n(g).SMALL,color:n(B).DANGER,onClick:M},{default:u(()=>[f(l(a.deleteLabel),1)]),_:1},8,["size","color"])):i("",!0)],2)],2)],2))}}),R="_BookCard_arwlk_348",N="_imageWrapper_arwlk_368",P="_image_arwlk_368",U="_infoWrapper_arwlk_393",H="_title_arwlk_401",T="_author_arwlk_420",V="_actions_arwlk_439",F={BookCard:R,imageWrapper:N,image:P,infoWrapper:U,title:H,author:T,actions:V},I={$style:F},ie=h(E,[["__cssModules",I]]),G=["src"],O=S({__name:"BookDetail",props:{book:{default:null}},emits:["close"],setup(D,{emit:v}){const k=v,m=Y();function d(){k("close")}return(e,y)=>(t(),$(q,{"is-open":e.book!==null,onClose:d},{default:u(()=>[C(A,{name:"fade"},{default:u(()=>{var c;return[e.book?(t(),r("div",{key:0,class:s(e.$style.BookDetail)},[e.book.imageUrl?(t(),r("div",{key:0,class:s(e.$style.imageWrapper)},[o("img",{class:s(e.$style.image),src:e.book.imageUrl},null,10,G)],2)):i("",!0),o("div",{class:s(e.$style.info)},[o("div",{class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Название",2),o("div",{class:s(e.$style.data)},l(e.book.name),3)],2),o("div",{class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Автор",2),o("div",{class:s(e.$style.data)},l(e.book.author),3)],2),o("div",{class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Год публикации",2),o("div",{class:s(e.$style.data)},l((c=e.book.publicationDate)==null?void 0:c.format("YYYY г.")),3)],2),n(m).isAdmin?(t(),r(w,{key:0},[e.book.reader?(t(),r("div",{key:0,class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Кому выдана",2),o("div",{class:s(e.$style.data)},l(e.book.reader.surname)+" "+l(e.book.reader.name)+" "+l(e.book.reader.fathername)+", "+l(e.book.reader.studentId),3)],2)):i("",!0),e.book.issueDate?(t(),r("div",{key:1,class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Дата выдачи читателю",2),o("div",{class:s(e.$style.data)},l(e.book.issueDate.format("YYYY.MM.DD HH:SS")),3)],2)):i("",!0),e.book.receiptDate?(t(),r("div",{key:2,class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Дата приемки",2),o("div",{class:s(e.$style.data)},l(e.book.receiptDate.format("YYYY.MM.DD HH:SS")),3)],2)):i("",!0),e.book.details?(t(),r("div",{key:3,class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Доп. информация",2),o("div",{class:s(e.$style.data)},l(e.book.details),3)],2)):i("",!0)],64)):i("",!0),o("div",{class:s(e.$style.field)},[o("div",{class:s(e.$style.label)},"Описание",2),o("div",{class:s(e.$style.data)},l(e.book.description),3)],2)],2),C(b,{class:s(e.$style.closeButton),onClick:d},{default:u(()=>y[0]||(y[0]=[f(" Закрыть ")])),_:1},8,["class"])],2)):i("",!0)]}),_:1})]),_:1},8,["is-open"]))}}),j="_BookDetail_u32q6_348",J="_imageWrapper_u32q6_359",K="_closeButton_u32q6_360",Q="_image_u32q6_359",X="_info_u32q6_380",Z="_field_u32q6_398",x="_label_u32q6_408",ee="_data_u32q6_416",se={BookDetail:j,imageWrapper:J,closeButton:K,image:Q,info:X,field:Z,label:x,data:ee},oe={$style:se},re=h(O,[["__cssModules",oe]]);export{re as B,ie as a};
